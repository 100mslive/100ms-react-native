---
title: Event Listeners
nav: 3.7
---

You can easily add or remove an event listener by using the addEventListener() or removeEventListener() method. HMSUpdateListenerActions is an enum class which has all the types of event listeners.

```js
import HmsManager, {
  HMSUpdateListenerActions,
  HMSException,
  HMSMessage,
  HMSLeaveRoomRequest,
} from '@100mslive/react-native-hms';

const hmsInstance = await HmsManager.build();

hmsInstance.addEventListener(
  HMSUpdateListenerActions.ON_PREVIEW,
  onPreviewListener
);

const onPreviewListener = ({ previewTracks }) => {
  const videoTrack = previewTracks.videoTrack;
  const videoTrackId = videoTrack.trackId;
  // gets triggered when we call preview function. You can set your camera and mic on/off while joining.
  // perform action
};

hmsInstance.addEventListener(HMSUpdateListenerActions.ON_JOIN, onJoinListener);

const onJoinListener = ({ localPeer, remotePeers }) => {
  // gets triggered when join is successful. You can navigate to other screens.
  // use these objects to update your local and remote peers.
};

hmsInstance.addEventListener(
  HMSUpdateListenerActions.ON_ROOM_UPDATE,
  onRoomListener
);

const onRoomListener = ({ localPeer, remotePeers }) => {
  // gets triggered when room is muted or unmuted.
  // use these objects to update your local and remote peers.
};

hmsInstance.addEventListener(
  HMSUpdateListenerActions.ON_PEER_UPDATE,
  onPeerListener
);

const onPeerListener = ({ localPeer, remotePeers }) => {
  // gets triggered when peer leaves, joins, peer's audio or video is muted, starts or stops speaking, role is changed or becomes dominant speaker.
  // use these objects to update your local and remote peers.
};

hmsInstance.addEventListener(
  HMSUpdateListenerActions.ON_TRACK_UPDATE,
  onTrackListener
);

const onTrackListener = ({ localPeer, remotePeers }) => {
  // gets triggered when track is added, removed, muted, unmuted, degraded and restored back.
  // use these objects to update your local and remote peers.
};

hmsInstance.addEventListener(
  HMSUpdateListenerActions.ON_ERROR,
  onErrorListener
);

const onErrorListener = (data: HMSException) => {
  // gets triggered whenever some error occours with a error description. You can either log it or navigate to some error screen.
  // data contains a error code and message due to which error occoured.
};

hmsInstance.addEventListener(
  HMSUpdateListenerActions.ON_MESSAGE,
  onMessageListener
);

const onMessageListener = (data: HMSMessage) => {
  // gets triggered whenever you receive a direct message, broadcasted message or role-based message.
  // whenever local peer receives a message this is triggered. Add the message to reducer.
};

hmsInstance.addEventListener(
  HMSUpdateListenerActions.ON_SPEAKER,
  onSpeakerListener
);

const onSpeakerListener = ({ peers }) => {
  // gets triggered whenever someone speaks
  // an array of speakers is received. Use it to highlight the speakers.
};

hmsInstance.addEventListener(
  HMSUpdateListenerActions.RECONNECTING,
  onReconnectingListener
);

const onReconnectingListener = (data) => {
  // triggered whenever local peer is trying to reconnect to room i.e. bad network.
};

hmsInstance.addEventListener(
  HMSUpdateListenerActions.RECONNECTED,
  onReconnectedListener
);

const onReconnectedListener = (data) => {
  // triggered when local peer is reconnected to the room.
};

hmsInstance.addEventListener(
  HMSUpdateListenerActions.ON_ROLE_CHANGE_REQUEST,
  onRoleChangeRequestListener
);

const onRoleChangeRequestListener = (data: HMSRoleChangeRequest) => {
  // triggered when someone requests a role change for local peer. We can get data.requestedBy.name, data.suggestedRole.name
  // You can show a modal allowing user to accept or decline the role change request whenever this is triggered.
};

hmsInstance.addEventListener(
  HMSUpdateListenerActions.ON_REMOVED_FROM_ROOM,
  onRemovedFromRoomListener
);

const onRemovedFromRoomListener = (data: HMSLeaveRoomRequest) => {
  // triggered whenever someone removes local peer from the room or the room is ended.
  // You can navigate to home screen, clear all reducers and reset all the states whenever this is triggered
};

hmsInstance.addEventListener(
  HMSUpdateListenerActions.ON_CHANGE_TRACK_STATE_REQUEST,
  onChangeTrackStateRequest
);

const onChangeTrackStateRequest = (data: HMSChangeTrackStateRequest) => {
  // triggered when someone requests a unmute for local peer. We can get data.requestedBy.name, data.trackType
  // You can show a modal allowing user to accept or decline the role change request whenever this is triggered.
};
```
